CREATE PROCEDURE [dbo].[ProcedureAddNewProduct]
    @ProductName NVARCHAR(100),
    @Price DECIMAL(18,2),
    @GroupID INT
AS
BEGIN
    SET NOCOUNT ON;

    -- Dodajemy nowy produkt
    INSERT INTO Product (Name, Price, GroupID, IsActive)
    VALUES (@ProductName, @Price, @GroupID, 1) -- Zakładamy, że nowo dodany produkt jest aktywny

    -- Pobieramy ID nowo dodanego produktu
    DECLARE @NewProductID INT
    SELECT @NewProductID = SCOPE_IDENTITY()

    -- Dodajemy informacje o nowym produkcie do koszyka
    INSERT INTO BasketPosition (ProductID, Amount, Price, UserID)
    VALUES (@NewProductID, 1, @Price, 1) -- Zakładamy, że UserID 1 oznacza użytkownika, który dodaje produkt do koszyka
END;